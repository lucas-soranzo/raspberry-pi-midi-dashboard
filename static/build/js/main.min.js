!function(o){o.fn.midiCommand=function(t){console.log(this);let e={byte1:204,byte2:0,byte3:0,name:"New Command",icon:null,color:"light",size:"lg",style:"outline"};Object.assign(e,t),this.addClass(["btn",`btn${e.style&&"Solid"!=e.style?"-"+e.style.toLocaleLowerCase():""}-${e.color.toLocaleLowerCase()}`,`btn${e.size?"-"+e.size.toLocaleLowerCase():""}`,"mr-3"].join(" "));let a=e.name;return e.icon&&(a=`<i class="fas fa-${e.icon.toLocaleLowerCase()}"></i>${a}`),this.html(a),this.appendTo("#commandContainer"),this.on("click",t=>{this.trigger("blur"),o.ajax({url:"/command",data:{status_byte:e.byte1,data_byte1:e.byte2,data_byte2:e.byte3},success:console.log})}),this}}(jQuery);const Commands=new class{constructor(){this.stored=[],this.load()}createElement(o){return $("<button>").midiCommand(o)}push(o){this.stored.push(o),this.createElement(o),window.localStorage.setItem("commands",JSON.stringify(this.stored))}load(){const o=window.localStorage.getItem("commands");if(o)try{this.stored=JSON.parse(o),this.stored.map(o=>this.createElement(o))}catch(o){console.error(o)}}clear(){window.localStorage.removeItem("commands"),window.location.reload()}};$("#clearCommands").on("click",()=>Commands.clear()),$("#commandForm").on("submit",o=>{o.preventDefault();const t=new FormData(o.target),e=["name","icon","color","size","style","byte1","byte2","byte3"].reduce((o,e)=>(o[e]=t.get(e),o),{});Commands.push(e),$("#commandFormModal").modal("hide")});var curZoom=100;const updateZoom=o=>{curZoom+=20*o,window.localStorage.setItem("zoom",curZoom),$("body").css("zoom",` ${curZoom}%`)},storageZoom=window.localStorage.getItem("zoom");if(storageZoom)try{curZoom=parseInt(storageZoom)}catch(o){window.localStorage.removeItem("zoom")}$("body").css("zoom",` ${curZoom}%`),$("#zoomIn").on("click",()=>updateZoom(1)),$("#zoomOut").on("click",()=>updateZoom(-1));